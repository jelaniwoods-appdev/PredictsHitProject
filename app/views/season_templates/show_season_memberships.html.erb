<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/my_clubs">My Clubs</a></li>
    <li class="breadcrumb-item"><a href="/my_seasons" style="color: black">My Seasons</a></li>
    <li class="breadcrumb-item active" aria-current="page"><a href="/my_markets">My Markets</a></li>
  </ol>
</nav>

<h1 class="center_title">My Seasons</h1>
<br>
<% if @membership_rows.present? %>
  <!-- There's likely a better way to do this -->
  <!-- Looping based on clubs then based on seasons within clubs. Confirm this is okay how it is structured-->
  <br>
  <br>
  <% club_id = 0 %>

    <% @membership_rows.each do |member| %>
      <% if Season.where({ :id => member.seasons_id }).at(0).club.id != club_id %>
        <% if club_id != 0 %>
          </div> <!-- This is to end the card div each time there is a new club associated with the remaining seasons (except for the first time before a card has been created) -->
        <% end %>
        <h2>
          <%= Season.where({ :id => member.seasons_id }).at(0).club.title %>
        </h2>
        <br>
      <div class="row row-cols-1 row-cols-md-4">
      <% end %>
      <% club_id = Season.where({ :id => member.seasons_id }).at(0).club.id %>
      <div class="col mb-4">
        <div class="card h-100">
          <img src="<%= Season.where({ :id => member.seasons_id }).at(0).picture %>" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title text-truncate"><%= Season.where({ :id => member.seasons_id }).at(0).title %></h5>
            <% if Season.where({ :id => member.seasons_id }).at(0).description == "" %>
              <p class="card-text text-truncate">[No Description]</p>
            <% else %>
              <p class="card-text text-truncate"><%= Season.where({ :id => member.seasons_id }).at(0).description %> </p>
            <% end %>
            <div class="text-center"><a class="btn btn-secondary stretched-link" href="/seasons/<%= Season.where({ :id => member.seasons_id }).at(0).club.id.to_s + '/' + member.seasons_id.to_s %>">Go to Season</a></div>
          </div>
        </div>
      </div>
    <% end %>
    </div> <!-- This is to end the card div for the last club associated with the seasons -->
<% else %>
  <h2>
    You do not belong to any Seasons yet.
    <br>
    <br>
    Ask a current Club owner to invite you to a Season...or create your own!
  </h2>
<% end %>